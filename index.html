<!DOCTYPE html>
<html lang="en"
    x-data="{
        // Handle dark mode toggle when the page is loaded
        theme: localStorage.theme || (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark'), 
        
        // Workaround fix to handle viewport height issue on mobile browsers
        // https://stackoverflow.com/questions/37112218/css3-100vh-not-constant-in-mobile-browser
        viewportHeight: (window.innerHeight * 0.01) + 'px'
    }"
    :class="theme == 'dark' ? 'dark' : ''"
    :style="{ 
        '--vh': viewportHeight
    }"
    @resize.window="viewportHeight = (window.innerHeight * 0.01) + 'px'"
>
<head>
    <!-- Metadata -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff">

    <!-- SEO -->
    <meta name="title" content="Tailbone">
    <meta name="description" content="TailwindCSS UX Skeleton Generator.">
    <meta name="robots" content="index, follow">
 
    <!-- Facebook open graph -->
    <meta property="og:url" content="https://mkfizi.dev/tailbone">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Tailbone">
    <meta property="og:image" content="https://mkfizi.dev/src/images/fb-og.jpg">
    <meta name="description" content="TailwindCSS UX Skeleton Generator.">
    <meta property="og:site_name" content="Tailbone">

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@mkfizi">
    <meta name="twitter:creator" content="@mkfizi">
    <meta name="twitter:url" content="https://mkfizi.dev/tailbone">
    <meta name="twitter:title" content="Tailbone">
    <meta name="twitter:description" content="TailwindCSS UX Skeleton Generator.">
    <meta name="twitter:image" content="https://mkfizi.dev/src/images/tw-card.jpg">

    <!-- Favicon -->
    <link rel="manifest" href="./site.webmanifest">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    
    <!-- Styles -->
    <link rel="stylesheet" href="./src/css/app.css">
    <link rel="preload" href="./src/css/app.css" as="style">

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="./src/js/app.js" defer></script>
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" as="script">
    <link rel="preload" href="./src/js/app.js" as="script">

    <title>Tailbone - TailwindCSS UX Skeleton Generator</title>
</head>
<body class="relative min-h-screen antialiased bg-white dark:bg-neutral-900"
    x-data="{ 

        version: '0.1.0',
        breakpointSize: 1024,
        elements: null,
        isAnimationEnabled: true,
        presets: {
            preset1: {
                title: 'Preset 1',
                elements: [
                    {
                        type: 'container',
                        isSelected: false,
                        classes: {
                            display: 'flex',
                            flexDirection: 'flex-row',
                            gap: 'gap-2'
                        },
                        childs: [
                            {
                                type: 'skeleton',
                                isSelected: false,
                                classes: {
                                    height: 'h-12',
                                    width: 'w-12',
                                    rounded: 'rounded-full'
                                }
                            },
                            {
                                type: 'container',
                                isSelected: false,
                                classes: {
                                        display: 'flex',
                                        flexDirection: 'flex-col',
                                        gap: 'gap-1'
                                },
                                childs: [
                                    {
                                        type: 'skeleton',
                                        isSelected: false,
                                        classes: {
                                            height: 'h-4',
                                            width: 'w-24',
                                            rounded: 'rounded-md',
                                            marginTop: 'mt-2'
                                        }
                                    },
                                    {
                                        type: 'skeleton',
                                        isSelected: false,
                                        classes: {
                                            height: 'h-2',
                                            width: 'w-16',
                                            rounded: 'rounded-md'
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        type: 'container',
                        isSelected: false,
                        classes: {
                            display: 'flex',
                            flexDirection: 'flex-row',
                            gap: 'gap-4'
                        },
                    }
                ]
            }
        },
        properties: {
            flexDirection: {
                row: 'flex-row',
                column: 'flex-col'
            },
            gap: {
                '0px': 'gap-0',
                '1px': 'gap-px',
                '2px': 'gap-0.5',
                '4px': 'gap-1',
                '6px': 'gap-1.5',
                '8px': 'gap-2',
                '10px': 'gap-2.5',
                '12px': 'gap-3',
                '14px': 'gap-3.5',
                '16px': 'gap-4',
                '20px': 'gap-5',
                '24px': 'gap-6',
                '28px': 'gap-7',
                '32px': 'gap-8',
                '36px': 'gap-9',
                '40px': 'gap-10',
                '44px': 'gap-11',
                '48px': 'gap-12',
                '56px': 'gap-14',
                '64px': 'gap-16',
                '80px': 'gap-20',
                '96px': 'gap-24',
                '112px': 'gap-28',
                '128px': 'gap-32',
                '144px': 'gap-36',
                '160px': 'gap-40',
                '176px': 'gap-44',
                '192px': 'gap-48',
                '208px': 'gap-52',
                '224px': 'gap-56',
                '240px': 'gap-60',
                '256px': 'gap-64',
                '288px': 'gap-72',
                '320px': 'gap-80',
                '384px': 'gap-96',
            },
            rounded: {
                none: 'rounded-none',
                small: 'rounded-sm',
                medium: 'rounded-md',
                large: 'rounded-lg',
                full: 'rounded-full',
            },
            height: {
                '0px': 'h-0',
                '1px': 'h-px',
                '2px': 'h-0.5',
                '4px': 'h-1',
                '6px': 'h-1.5',
                '8px': 'h-2',
                '10px': 'h-2.5',
                '12px': 'h-3',
                '14px': 'h-3.5',
                '16px': 'h-4',
                '20px': 'h-5',
                '24px': 'h-6',
                '28px': 'h-7',
                '32px': 'h-8',
                '36px': 'h-9',
                '40px': 'h-10',
                '44px': 'h-11',
                '48px': 'h-12',
                '56px': 'h-14',
                '64px': 'h-16',
                '80px': 'h-20',
                '96px': 'h-24',
                '112px': 'h-28',
                '128px': 'h-32',
                '144px': 'h-36',
                '160px': 'h-40',
                '176px': 'h-44',
                '192px': 'h-48',
                '208px': 'h-52',
                '224px': 'h-56',
                '240px': 'h-60',
                '256px': 'h-64',
                '288px': 'h-72',
                '320px': 'h-80',
                '384px': 'h-96',
                '100%': 'h-full'
            },
            width: {
                '0px': 'w-0',
                '1px': 'w-px',
                '2px': 'w-0.5',
                '4px': 'w-1',
                '6px': 'w-1.5',
                '8px': 'w-2',
                '10px': 'w-2.5',
                '12px': 'w-3',
                '14px': 'w-3.5',
                '16px': 'w-4',
                '20px': 'w-5',
                '24px': 'w-6',
                '28px': 'w-7',
                '32px': 'w-8',
                '36px': 'w-9',
                '40px': 'w-10',
                '44px': 'w-11',
                '48px': 'w-12',
                '56px': 'w-14',
                '64px': 'w-16',
                '80px': 'w-20',
                '96px': 'w-24',
                '112px': 'w-28',
                '128px': 'w-32',
                '144px': 'w-36',
                '160px': 'w-40',
                '176px': 'w-44',
                '192px': 'w-48',
                '208px': 'w-52',
                '224px': 'w-56',
                '240px': 'w-60',
                '256px': 'w-64',
                '288px': 'w-72',
                '320px': 'w-80',
                '384px': 'w-96',
                '100%': 'w-full'
            },
            marginTop: {
                '0px': 'mt-0',
                '1px': 'mt-px',
                '2px': 'mt-0.5',
                '4px': 'mt-1',
                '6px': 'mt-1.5',
                '8px': 'mt-2',
                '10px': 'mt-2.5',
                '12px': 'mt-3',
                '14px': 'mt-3.5',
                '16px': 'mt-4',
                '20px': 'mt-5',
                '24px': 'mt-6',
                '28px': 'mt-7',
                '32px': 'mt-8',
                '36px': 'mt-9',
                '40px': 'mt-10',
                '44px': 'mt-11',
                '48px': 'mt-12',
                '56px': 'mt-14',
                '64px': 'mt-16',
                '80px': 'mt-20',
                '96px': 'mt-24',
                '112px': 'mt-28',
                '128px': 'mt-32',
                '144px': 'mt-36',
                '160px': 'mt-40',
                '176px': 'mt-44',
                '192px': 'mt-48',
                '208px': 'mt-52',
                '224px': 'mt-56',
                '240px': 'mt-60',
                '256px': 'mt-64',
                '288px': 'mt-72',
                '320px': 'mt-80',
                '384px': 'mt-96',
                'auto': 'mt-auto'
            },
            marginBottom: {
                '0px': 'mb-0',
                '1px': 'mb-px',
                '2px': 'mb-0.5',
                '4px': 'mb-1',
                '6px': 'mb-1.5',
                '8px': 'mb-2',
                '10px': 'mb-2.5',
                '12px': 'mb-3',
                '14px': 'mb-3.5',
                '16px': 'mb-4',
                '20px': 'mb-5',
                '24px': 'mb-6',
                '28px': 'mb-7',
                '32px': 'mb-8',
                '36px': 'mb-9',
                '40px': 'mb-10',
                '44px': 'mb-11',
                '48px': 'mb-12',
                '56px': 'mb-14',
                '64px': 'mb-16',
                '80px': 'mb-20',
                '96px': 'mb-24',
                '112px': 'mb-28',
                '128px': 'mb-32',
                '144px': 'mb-36',
                '160px': 'mb-40',
                '176px': 'mb-44',
                '192px': 'mb-48',
                '208px': 'mb-52',
                '224px': 'mb-56',
                '240px': 'mb-60',
                '256px': 'mb-64',
                '288px': 'mb-72',
                '320px': 'mb-80',
                '384px': 'mb-96',
                'auto': 'mb-auto'
            },
            marginLeft: {
                '0px': 'ml-0',
                '1px': 'ml-px',
                '2px': 'ml-0.5',
                '4px': 'ml-1',
                '6px': 'ml-1.5',
                '8px': 'ml-2',
                '10px': 'ml-2.5',
                '12px': 'ml-3',
                '14px': 'ml-3.5',
                '16px': 'ml-4',
                '20px': 'ml-5',
                '24px': 'ml-6',
                '28px': 'ml-7',
                '32px': 'ml-8',
                '36px': 'ml-9',
                '40px': 'ml-10',
                '44px': 'ml-11',
                '48px': 'ml-12',
                '56px': 'ml-14',
                '64px': 'ml-16',
                '80px': 'ml-20',
                '96px': 'ml-24',
                '112px': 'ml-28',
                '128px': 'ml-32',
                '144px': 'ml-36',
                '160px': 'ml-40',
                '176px': 'ml-44',
                '192px': 'ml-48',
                '208px': 'ml-52',
                '224px': 'ml-56',
                '240px': 'ml-60',
                '256px': 'ml-64',
                '288px': 'ml-72',
                '320px': 'ml-80',
                '384px': 'ml-96',
                'auto': 'ml-auto'
            },
            marginRight: {
                '0px': 'mr-0',
                '1px': 'mr-px',
                '2px': 'mr-0.5',
                '4px': 'mr-1',
                '6px': 'mr-1.5',
                '8px': 'mr-2',
                '10px': 'mr-2.5',
                '12px': 'mr-3',
                '14px': 'mr-3.5',
                '16px': 'mr-4',
                '20px': 'mr-5',
                '24px': 'mr-6',
                '28px': 'mr-7',
                '32px': 'mr-8',
                '36px': 'mr-9',
                '40px': 'mr-10',
                '44px': 'mr-11',
                '48px': 'mr-12',
                '56px': 'mr-14',
                '64px': 'mr-16',
                '80px': 'mr-20',
                '96px': 'mr-24',
                '112px': 'mr-28',
                '128px': 'mr-32',
                '144px': 'mr-36',
                '160px': 'mr-40',
                '176px': 'mr-44',
                '192px': 'mr-48',
                '208px': 'mr-52',
                '224px': 'mr-56',
                '240px': 'mr-60',
                '256px': 'mr-64',
                '288px': 'mr-72',
                '320px': 'mr-80',
                '384px': 'mr-96',
                'auto': 'mr-auto'
            }
        },

        utilities: {

            // Assign ids on element
            assignUniqueIds(elements = $data.elements, parentId = '') {
                elements.forEach((element, index) => {
                    const uniqueId = parentId + '_' + index; // Creating a unique ID
            
                    // Assigning the unique ID to the current element
                    element.id = uniqueId;
            
                    if (element.childs && element.childs.length > 0) {
                        // Recursively assign IDs to child elements
                        this.assignUniqueIds(element.childs, uniqueId);
                    }
                });
            },

            // Add classes
            addClassToElement(type, classes) {
                return [
                    Object.values(classes).join(' '),
                    type === 'skeleton' && $data.isAnimationEnabled ? 'animate-pulse' : '',
                    type === 'skeleton' ? 'bg-neutral-300 dark:bg-neutral-700' : ''
                ].join(' ').trim()
            },

            // Select current element
            selectCurrentElement(id, elements = $data.elements) {
                elements.forEach((element) => {
                    if (element.id == id) {
                        element.isSelected = true;
                    } else {
                        element.isSelected = false;
                    }

                    if (element.childs) {
                        this.selectCurrentElement(id, element.childs);
                    }
                })
            },

            // Deselect current element
            deselectElement(elements = $data.elements) {
                elements.forEach((element) => {
                    element.isSelected = false;

                    if (element.childs) {
                        this.deselectElement(element.childs);
                    }
                })
            },

            // Update element class properties
            updateProperties(id, property, value, elements = $data.elements) {
                elements.forEach((element) => {
                    if (element.id == id) {
                        element.classes[property] = value;
                    }
                    if (element.childs) {
                        this.updateProperties(id, property, value, element.childs);
                    }
                })
            },
        },


        output: {

            // Setup content for output
            setup(elements = $data.elements) {
                html = '';
                elements.forEach((element) => {
                    html += `
                        <div class=&quot; ${$data.utilities.addClassToElement(element.type, element.classes)}&quot;
                            x-data=&quot;{
                                isSelected: ${element.isSelected}
                            }&quot;
                            :class=&quot; { 
                                'outline outline-1 outline-black dark:outline-white': isSelected
                            }&quot;
                            @click.stop=&quot;
                                utilities.selectCurrentElement('${element.id}')
                                options.draw();
                            &quot;
                        >
                    `

                    // Draw board recursively if element contains child
                    if (element.childs) {
                        html += this.setup(element.childs);
                    }

                    html += `
                        </div>
                    `;
                })

                return html;
            }
        },

        layers: {

            // Setup content for layers
            setup(elements = $data.elements) {
                html = '';
                elements.forEach((element, key) => {
                    html += `
                        <div class=&quot; relative border group &quot;
                            x-data=&quot;{
                                isSelected: ${element.isSelected}
                            }&quot;
                            :class=&quot; isSelected ? 'border-black dark:border-white' : 'border-transparent dark:border-transparent hover:border-black dark:hover:border-white'&quot;
                        >
                            <button type=&quot;button&quot; class=&quot; py-2 px-4 w-full text-left overflow-hidden text-base text-neutral-700 dark:text-neutral-300 group-hover:text-black dark:group-hover:text-white &quot;
                                @click=&quot;
                                    utilities.selectCurrentElement('${element.id}');
                                    options.draw();
                                &quot;
                            >${element.type.charAt(0).toUpperCase() + element.type.slice(1)}</button>
                            <div class=&quot; top-0 z-10 absolute right-4 py-2 flex &quot;>
                    `;

                    if (element.type === 'container') {
                        html +=`
                                <button type=&quot;button&quot; class=&quot; text-neutral-700 dark:text-neutral-300 hover:text-black dark:hover:text-white &quot; aria-label=&quot;Create child element&quot;>
                                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; h-6 w-6 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                        <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                        <path d=&quot;M12 5l0 14&quot; />
                                        <path d=&quot;M5 12l14 0&quot; />
                                    </svg>
                                </button>
                        `;
                    }
                                    
                    html += `
                                <button type=&quot;button&quot; class=&quot; text-neutral-700 dark:text-neutral-300 hover:text-black dark:hover:text-white &quot; aria-label=&quot;Duplicate element&quot;>
                                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; h-6 w-6 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                        <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                        <path d=&quot;M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z&quot; />
                                        <path d=&quot;M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2&quot; />
                                      </svg>
                                </button>
                                <button type=&quot;button&quot; class=&quot; text-neutral-700 dark:text-neutral-300 hover:text-black dark:hover:text-white &quot; aria-label=&quot;Remove element&quot;>
                                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; h-6 w-6 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                        <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                        <path d=&quot;M18 6l-12 12&quot; />
                                        <path d=&quot;M6 6l12 12&quot; />
                                    </svg>
                                </button>
                                <button type=&quot;button&quot; class=&quot; text-neutral-700 dark:text-neutral-300 hover:text-black dark:hover:text-white &quot; aria-label=&quot;Move element up&quot;>
                                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; h-6 w-6 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                        <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                        <path d=&quot;M12 5l0 14&quot; />
                                        <path d=&quot;M18 11l-6 -6&quot; />
                                        <path d=&quot;M6 11l6 -6&quot; />
                                    </svg>
                                </button>
                                <button type=&quot;button&quot; class=&quot; text-neutral-700 dark:text-neutral-300 hover:text-black dark:hover:text-white &quot; aria-label=&quot;Move element down&quot;>
                                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; h-6 w-6 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                        <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                        <path d=&quot;M12 5l0 14&quot; />
                                        <path d=&quot;M18 13l-6 6&quot; />
                                        <path d=&quot;M6 13l6 6&quot; />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    `;

                    
                    // Draw elements sidebar recursively if element contains child
                    if (element.childs) {
                        html += `
                            <div class=&quot; ml-4 relative &quot;>
                                <div class=&quot; h-full w-px absolute bg-neutral-300 dark:bg-neutral-700 &quot;></div>
                        `;
                        html += this.setup(element.childs);
                        html += `
                            </div>
                        `;
                    }
                });

                return html;
            }
        },

        options: {

            // Setup content for options
            setup(elements = $data.elements) {
                html = '';
                elements.forEach((element) => {
                    if (element.isSelected) {
                        html += `
                            <div class=&quot; flex justify-between mb-4 &quot;
                                x-init=&quot;showProperties = true&quot;
                            >
                                <p class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Properties</p>
                                <button type=&quot;button&quot; class=&quot; text-neutral-700 dark:text-neutral-300 hover:text-black dark:hover:text-white &quot; aria-label=&quot;Deselect element&quot;
                                    @click=&quot;
                                        utilities.deselectElement();
                                        options.draw();
                                    &quot;
                                >
                                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; w-6 h-6 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                        <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                        <path d=&quot;M18 6l-12 12&quot; />
                                        <path d=&quot;M6 6l12 12&quot; />
                                    </svg>
                                </button>
                            </div>
                            `;
                            
                        if (element.type == 'container') {
                            html += `
                                <div class=&quot; space-y-2 &quot;>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;direction&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Direction</label>
                                        <div class=&quot; relative w-full &quot;>
                                            <select id=&quot;direction&quot; name=&quot;direction&quot; class=&quot; relative w-full py-2 pl-2 pr-12 text-base bg-transparent border rounded-md appearance-none text-neutral-700 dark:text-neutral-300 border-neutral-600 dark:border-neutral-400 disabled:opacity-50 disabled:pointer-events-none peer &quot;
                                                @change=&quot;utilities.updateProperties('${element.id}', 'flexDirection', $el.value)&quot;>
                            `;
                            
                            Object.entries($data.properties.flexDirection).forEach(([key, value], index) => {
                                html += `<option value=&quot;${value}&quot; class=&quot; dark:bg-transparent &quot; ${value == element.classes.flexDirection ? 'selected' : ''}>${key.charAt(0).toUpperCase() + key.slice(1)}</option>`;
                            });
    
                            html += `
                                            </select>
                                            <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; absolute w-6 h-6 top-2 right-2 stroke-neutral-700 dark:stroke-neutral-300 peer-disabled:opacity-50 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                                <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                                <path d=&quot;M6 9l6 6l6 -6&quot; />
                                            </svg>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;gap&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Gap</label>
                                    `;
                                    
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.gap).forEach(([key, value], index) => {
                                if (element.classes.gap == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });
                                    
                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.gap).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'gap', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;gap&quot; type=&quot;range&quot; name=&quot;gap&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.gap).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                </div>
                            `;

                        } else if (element.type == 'skeleton') {
                            html += `
                                <div class=&quot; space-y-2 &quot;>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;rounded&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Rounded</label>
                                        <div class=&quot; relative w-full &quot;>
                                            <select id=&quot;rounded&quot; name=&quot;rounded&quot; class=&quot; relative w-full py-2 pl-2 pr-12 text-base bg-transparent border rounded-md appearance-none text-neutral-700 dark:text-neutral-300 border-neutral-600 dark:border-neutral-400 disabled:opacity-50 disabled:pointer-events-none peer &quot;
                                                @change=&quot;utilities.updateProperties('${element.id}', 'rounded', $el.value)&quot;>
                            `;
                            
                            Object.entries($data.properties.rounded).forEach(([key, value], index) => {
                                html += `<option value=&quot;${value}&quot; class=&quot; dark:bg-transparent &quot; ${value == element.classes.rounded ? 'selected' : ''}>${key.charAt(0).toUpperCase() + key.slice(1)}</option>`;
                            });
    
                            html += `
                                            </select>
                                            <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot; absolute w-6 h-6 top-2 right-2 stroke-neutral-700 dark:stroke-neutral-300 peer-disabled:opacity-50 &quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;1.5&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;>
                                                <path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot; fill=&quot;none&quot;/>
                                                <path d=&quot;M6 9l6 6l6 -6&quot; />
                                            </svg>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;height&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Height</label>
                            `;
                            
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.height).forEach(([key, value], index) => {
                                if (element.classes.height == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });

                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.height).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'height', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;height&quot; type=&quot;range&quot; name=&quot;height&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.height).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;width&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Width</label>
                                    `;
                                    
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.width).forEach(([key, value], index) => {
                                if (element.classes.width == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });
                                    
                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.width).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'width', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;width&quot; type=&quot;range&quot; name=&quot;width&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.width).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;marginTop&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Margin Top</label>
                                    `;
                                    
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.marginTop).forEach(([key, value], index) => {
                                if (element.classes.marginTop == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });
                                    
                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.marginTop).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'marginTop', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;marginTop&quot; type=&quot;range&quot; name=&quot;marginTop&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.marginTop).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;marginBottom&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Margin Bottom</label>
                                    `;
                                    
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.marginBottom).forEach(([key, value], index) => {
                                if (element.classes.marginBottom == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });
                                    
                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.marginBottom).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'marginBottom', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;marginBottom&quot; type=&quot;range&quot; name=&quot;marginBottom&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.marginBottom).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;marginLeft&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Margin Left</label>
                                    `;
                                    
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.marginLeft).forEach(([key, value], index) => {
                                if (element.classes.marginLeft == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });
                                    
                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.marginLeft).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'marginLeft', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;marginLeft&quot; type=&quot;range&quot; name=&quot;marginLeft&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.marginLeft).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                    <div class=&quot; space-y-1 &quot;>
                                        <label for=&quot;marginRight&quot; class=&quot; text-base font-bold text-neutral-700 dark:text-neutral-300 &quot;>Margin Right</label>
                                    `;
                                    
                            sliderText = '0px';
                            inputValue = 0;
                            Object.entries($data.properties.marginRight).forEach(([key, value], index) => {
                                if (element.classes.marginRight == value) {
                                    sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                    inputValue = index;
                                }
                            });
                                    
                            html += `
                                        <div class=&quot; flex gap-2 &quot;
                                            x-data=&quot;{
                                                sliderText: '${sliderText}',
                                                updateSlider(inputValue) {
                                                    updateValue = '';
                                                    Object.entries($data.properties.marginRight).forEach(([key, value], index) => {
                                                        if (inputValue == index) {
                                                            this.sliderText = key.charAt(0).toUpperCase() + key.slice(1);
                                                            updateValue = value;
                                                        }
                                                    });
                                                    utilities.updateProperties('${element.id}', 'marginRight', updateValue)
                                                }
                                            }&quot;
                                        >
                                            <input id=&quot;marginRight&quot; type=&quot;range&quot; name=&quot;marginRight&quot; min=&quot;0&quot;
                                                max=&quot;${Object.keys($data.properties.marginRight).length - 1}&quot; value=&quot;${inputValue}&quot; class=&quot; flex-1 disabled:opacity-50 disabled:pointer-events-none &quot;
                                                @input=&quot;updateSlider($el.value)&quot;
                                            >
                                            <p class=&quot; w-12 text-base text-neutral-700 dark:text-neutral-300 shrink-0 &quot; x-text=&quot;sliderText&quot;></p>
                                        </div>
                                    </div>
                                </div>
                            `
                        }
                    }
    
                    // Draw elements sidebar recursively if element contains child
                    if (element.childs) {
                        html += this.setup(element.childs);
                    }
                });
                return html;
            },

            // Draw properties content;
            draw(elements = $data.elements) {
                targetElement = document.getElementById('properties');
                if (targetElement) {
                    targetElement.innerHTML = '';
                    targetElement.innerHTML = this.setup(elements);
                }
            }
        },

        modal: {
            isOpen: false,
            title: '',
            text: '',
            showCreateElement: true,
            trigger() {
                return;
            },
            triggerCreateContainer() {
                return;
            },
            triggerCreateSkeleton() {
                return;
            },

            // Create element
            createElement(type, parentId = null) {
                newElement = {};
                if (type == 'container') {
                    newElement = {
                        type: 'container',
                        isSelected: true,
                        classes: {
                            display: 'flex',
                            flexDirection: 'flex-row',
                        }
                    }
                } else if (type == 'skeleton') {
                    newElement = {
                        type: 'skeleton',
                        isSelected: true,
                        classes: {
                            height: 'h-8',
                            width: 'w-full',
                            rounded: 'rounded-md'
                        }
                    }
                }

                $data.utilities.deselectElement();
                if (parentId == null) {
                    $data.elements = [
                        newElement
                    ]
                }

                $data.utilities.assignUniqueIds();
                $data.options.draw();
                this.isOpen = false;
            }
        }
    }"
    x-init="

        // Initialize local storage values
        elements = localStorage.elements != null ? JSON.parse(localStorage.elements) : null;
        isAnimationEnabled = localStorage.isAnimationEnabled;

        if (elements == null) {
            element = presets.preset1.elements;
            utilities.assignUniqueIds();
            localStorage.elements = JSON.stringify(element);
            elements = JSON.parse(localStorage.elements);
        }

        if(isAnimationEnabled == null) {
            localStorage.isAnimationEnabled = true;
            this.isAnimationEnabled = localStorage.isAnimationEnabled;
        }

        if(localStorage.version == null) {
            localStorage.version = version;
            version = localStorage.version;
        }

        $watch('elements', (elements) => {
            localStorage.elements = JSON.stringify(elements);
        })
    "
>

    <!-- Navbar -->
    <nav class="sticky top-0 z-10 bg-white border-b dark:bg-neutral-900"
        x-data="{
            navbarHeight: null,
            isScrolled: false, 
            isNavbarMenuOpen: false, 
        }"
        x-init="
            navbarHeight = $el.clientHeight;
            isScrolled = window.scrollY > 0;
        "
        :class="isScrolled ? 'border-neutral-300 dark:border-neutral-700 shadow' : 'border-transparent dark:border-transparent'"
        @scroll.window="

            // Toggle navbar appearance
            isScrolled = window.scrollY > 0;
        "
    >
        <div class="flex items-center justify-between w-full h-16 max-w-screen-xl px-4 mx-auto sm:px-8">

            <!-- Logo -->
            <a href="#" class="flex gap-4">
                <img src="./src/images/logo.png" alt="Logo" class="w-6 h-6 dark:hidden">
                <img src="./src/images/logo-dark.png" alt="Logo" class="hidden w-6 h-6 dark:block">
                <span class="text-lg font-bold text-black dark:text-white">Tailbone</span>
            </a>

            <div class="flex items-center gap-8">

                <!-- Navbar menu -->
                <div id="navbar-menu" class="fixed top-0 left-0 z-20 invisible hidden w-screen h-screen lg:block lg:visible lg:relative lg:w-auto lg:h-auto lg:left-auto lg:top-auto lg:z-0"
                    :class="{ 
                        'hidden invisible': !isNavbarMenuOpen 
                    }"
                    :aria-hidden="isNavbarMenuOpen ? false : true"
                    x-data="{
                        sections: document.querySelectorAll('section'),
                        isSectionActive: {},

                        // Handle when switching view between breakpoint size
                        toggleResponsive() {
                            
                            // If window width past breakpoint size, close navbar menu and remove `[aria-hidden]` attribute from it
                            if (window.innerWidth >= breakpointSize) {
                                if ($el.getAttribute('aria-hidden') === 'true') {
                                    isNavbarMenuOpen = false
                                }
                                $el.removeAttribute('aria-hidden');
                            } else {
                                if (!$el.getAttribute('aria-hidden')) {
                                    $el.setAttribute('aria-hidden', true);
                                }
                            }
                        }, 
                        
                        // Toggle active navbar menu link
                        toggleActiveLink() {
                            scrollPosition = window.scrollY;
                            this.sections.forEach((targetSection) => {
                                const sectionTop = targetSection.offsetTop - navbarHeight - parseFloat(getComputedStyle(targetSection).marginTop);
                                const sectionHeight = targetSection.offsetHeight + parseFloat(getComputedStyle(targetSection).marginTop);
                                
                                this.isSectionActive[targetSection.id] = false;
                                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                                    this.isSectionActive[targetSection.id] = true;
                                }
                            });
                        }
                    }"
                    x-init="
                        $watch('isNavbarMenuOpen', isNavbarMenuOpen => { 

                            // Force focus before initialize focus trap
                            if (isNavbarMenuOpen) {
                                $el.setAttribute('tabindex', 1);
                                $el.focus();
                                setTimeout(() => {
                                    $el.removeAttribute('tabindex');
                                }, 100);
                            }
                        })
                        
                        toggleResponsive();
                        toggleActiveLink();
                    "
                    @keydown.escape.window="isNavbarMenuOpen = false"
                    @keydown.tab.window="
                        
                        // Focus trap handler 
                        event => {
                            if (isNavbarMenuOpen) {
                                const focusableElements = Array.from($el.querySelectorAll(`a, button, input, textarea, select, details, [tabindex], [contenteditable='true']`)).filter(element => {
                                    return !element.closest(`[tabindex='-1'], .hidden, .invisible`) || null;
                                });
                                const firstElement = focusableElements[0];
                                const lastElement = focusableElements[focusableElements.length - 1];
                    
                                if (event.shiftKey && (document.activeElement === firstElement || document.activeElement === document.body)) {
                                    event.preventDefault();
                                    lastElement.focus();
                                } else if (!event.shiftKey && document.activeElement === lastElement) {
                                    event.preventDefault();
                                    firstElement.focus();
                                }
                            }
                        }
                    "
                    @resize.window="toggleResponsive()"
                    @scroll.window="toggleActiveLink()"
                >
                    <div class="fixed top-0 left-0 w-full h-full px-4 py-4 overflow-y-auto bg-white sm:px-8 lg:relative lg:h-auto lg:px-0 lg:py-0 dark:bg-neutral-800 lg:bg-transparent lg:dark:bg-transparent lg:w-auto" aria-labelledby="navbar-menu">
                        
                        <!-- Navbar menu close button -->
                        <button id="navbar-menu-close" type="button" class="absolute lg:hidden right-4 sm:right-8 top-4 group" aria-controls="navbar-menu" aria-label="Close navbar menu"
                            :aria-expanded="isNavbarMenuOpen ? true : false"
                            @click="isNavbarMenuOpen = false"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-neutral-500 dark:stroke-neutral-400 group-hover:stroke-black dark:group-hover:stroke-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                <path d="M18 6l-12 12" />
                                <path d="M6 6l12 12" />
                            </svg>
                        </button>

                        <!-- Navbar menu link -->
                        <ul class="space-y-4 lg:space-y-0 lg:flex lg:gap-8"
                            x-data="{
                                links: [
                                    { 
                                        url: '#how-to-use', 
                                        title: 'How to use?'
                                    }
                                ]
                            }"
                        >
                            <template x-for="link in links" hidden>
                                <li>
                                    <a class="block font-semibold hover:text-black dark:hover:text-white"
                                        :href="link.url" 
                                        :class="isSectionActive[`${$el.getAttribute('href').substring(1)}`] ? 'text-black dark:text-white' : 'text-neutral-500 dark:text-neutral-400'"
                                        x-text="link.title"
                                    ></a>
                                </li>
                            </template>
                        </ul>

                    </div>
                </div>
                
                <!-- Divider -->
                <div class="hidden w-px h-8 lg:block bg-neutral-300 dark:bg-neutral-700"></div>
                
                <div class="flex items-center gap-4">

                    <!-- Dark mode toggle button -->
                    <button type="button" class="group" aria-label="Toggle dark mode"
                        x-data="{ 
                            isDarkMode: ''
                        }"
                        @click="
                        
                            // Toggle dark mode
                            isDarkMode = localStorage.theme === 'light' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: light)').matches);
                            localStorage.theme = isDarkMode ? 'dark' : 'light';
                            document.documentElement.classList.toggle('dark', isDarkMode);
                        "
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 dark:hidden stroke-neutral-500 group-hover:stroke-black" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
                            <path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" class="hidden w-6 h-6 dark:block dark:stroke-neutral-400 group-hover:stroke-white" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
                        </svg>
                    </button>

                    <a href="https://github.com/mkfizi/tailbone" target="_blank" class="group" aria-label="Go to Github repository">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-neutral-500 dark:stroke-neutral-400 group-hover:stroke-black dark:group-hover:stroke-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
                        </svg>
                    </a>

                    <!-- Navbar menu open button -->
                    <button type="button" class="lg:hidden group" aria-controls="navbar-menu" aria-expanded="false" aria-label="Open navbar menu"
                        :aria-expanded="isNavbarMenuOpen ? true : false"
                        @click="isNavbarMenuOpen = true"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-neutral-500 dark:stroke-neutral-400 group-hover:stroke-black dark:group-hover:stroke-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                            <path d="M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                            <path d="M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                        </svg>
                    </button>
                    
                </div>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="w-full max-w-screen-xl px-4 pt-16 pb-32 mx-auto sm:px-8">
        <header class="max-w-screen-md mx-auto text-center">
            <h1 class="text-4xl font-black text-black sm:text-5xl lg:text-6xl dark:text-white">UX Skeleton Generator</h1>
            <h2 class="mt-4 text-lg text-black sm:text-xl lg:text-2xl dark:text-white">Generate your personalised UX skeleton screen with <span class="font-bold text-neutral-600 dark:text-neutral-400">TailwindCSS</span></h2>
        </header>

        <section class="pt-32">

            <!-- Menu -->
            <div class="flex justify-between gap-4 mb-4">

                <!-- New canvas button -->
                <button type="button" class="px-4 py-2 text-base font-semibold text-white bg-black border border-black rounded-md hover:border-neutral-700 hover:bg-neutral-700 dark:bg-neutral-600 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none"
                    @click="
                        modal.isOpen = true;
                        modal.title = 'Clear Canvas';
                        modal.text = 'This will remove all created elements. Do you want to proceed?';
                        modal.showCreateElement = false;
                        modal.trigger = () => {
                            elements = [];
                            options.draw();
                            modal.isOpen = false;
                        }
                    "
                >Clear</button>
                
                <div class="relative inline-block"
                    x-data="{ 
                        isOpen: false 
                    }" 
                    @click.outside="isOpen = false"
                    @keydown.escape.window="isOpen = false"
                >
                    <!-- Canvas presets dropdown -->
                    <button type="button" class="flex gap-2 px-4 py-2 text-base font-semibold text-white bg-black border border-black rounded-md hover:border-neutral-700 hover:bg-neutral-700 dark:bg-neutral-600 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none" aria-controls="presetsDropdown"
                        :aria-expanded="isOpen ? true : false"
                        @click="isOpen = !isOpen"
                    >
                        <span>Presets</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" aria-labelledby="dropdown">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M6 9l6 6l6 -6" />
                        </svg>
                    </button>
                    <ul id="presetsDropdown" class="absolute right-0 z-10 invisible hidden w-48 p-0.5 mt-2 bg-white border rounded-md border-neutral-300 dark:border-neutral-700 dark:bg-neutral-900 shadow" aria-labelledby="dropdown"
                        :class="{ 
                            'hidden invisible': !isOpen 
                        }"
                        :aria-hidden="isOpen ? false : true"
                    >
                        <li class="hover:bg-neutral-100 dark:hover:bg-neutral-800">
                            <a href="#" class="block px-4 py-2 text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white">Preset 1</a>
                        </li>
                        <li class="hover:bg-neutral-100 dark:hover:bg-neutral-800">
                            <a href="#" class="block px-4 py-2 text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white">Preset 2</a>
                        </li>
                        <li class="hover:bg-neutral-100 dark:hover:bg-neutral-800">
                            <a href="#" class="block px-4 py-2 text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white">Preset 3</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="grid overflow-hidden border rounded-md border-neutral-300 dark:border-neutral-700 sm:grid-cols-2 lg:grid-cols-4">
                
                <!-- Output background -->
                <div class="overflow-auto border-b sm:col-span-2 lg:order-2 bg-neutral-50 dark:bg-neutral-900 lg:border-b-0 lg:border-x border-neutral-300 dark:border-neutral-700"
                    @click="
                        utilities.deselectElement();
                        options.draw();
                    "
                >

                    <!-- Output -->  
                    <template x-if="elements.length > 0" hidden>
                        <div class="px-4 py-16 sm:px-8"
                            x-html="output.setup()"
                        >
                        </div>
                    </template>
                    <template x-if="elements.length == 0" hidden>
                        <div class="flex items-center justify-center h-64 mx-4 sm:mx-8">
                            <p class="text-base text-neutral-700 dark:text-neutral-300">There's nothing to show here, click on `Create Element` to begin.</p>
                        </div>
                    </template>
                </div>
                
                <!-- Layers -->
                <div class="bg-white border-b divide-y lg:order-1 dark:bg-neutral-800 sm:border-b-0 sm:border-r lg:border-r-0 border-neutral-300 dark:border-neutral-700 divide-neutral-300 dark:divide-neutral-700">
                    <p class="p-4 text-base font-bold text-neutral-700 dark:text-neutral-300">Layers</p>
                    <div x-html="layers.setup()"></div>
                    
                    <div class="p-2">
                        <button type="button" class="w-full px-4 py-2 text-base font-semibold text-white bg-black border border-black rounded-md hover:border-neutral-700 hover:bg-neutral-700 dark:bg-neutral-600 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none"
                            @click="
                                modal.isOpen = true;
                                modal.title = 'Create Element';
                                modal.text = 'Choose which element would you like to create.';
                                modal.showCreateElement = true;
                                modal.triggerCreateContainer = () => {
                                    modal.createElement('container');
                                }
                                modal.triggerCreateSkeleton = () => {
                                    modal.createElement('skeleton');
                                }
                            "
                        >Create Element</button>
                    </div>
                </div>
                
                <!-- Options -->
                <div class="bg-white divide-y lg:order-3 dark:bg-neutral-800 divide-neutral-300 dark:divide-neutral-700">
                    <div class="p-4">
                        <p class="mb-4 text-base font-bold text-neutral-700 dark:text-neutral-300">Options</p>
                        <div class="flex items-center gap-2">
                            <input id="animation" type="checkbox" name="checkbox" class="accent-neutral-700 dark:accent-neutral-300 disabled:opacity-50 disabled:pointer-events-none" 
                                :checked="isAnimationEnabled"
                                @click="isAnimationEnabled = !isAnimationEnabled"
                                x-init="
                                    isAnimationEnabled = localStorage.isAnimationEnabled === 'true';
                                    
                                    $watch('isAnimationEnabled', (isAnimationEnabled) => {
                                        localStorage.isAnimationEnabled = isAnimationEnabled;
                                    });
                                "
                            >
                            <label for="animation" class="text-base text-neutral-700 dark:text-neutral-300">Animation</label>
                        </div>
                    </div>  

                    <div class="p-4"
                        id="properties"
                        x-show="showProperties"
                        x-data="{
                            showProperties: false,
                        }"
                        x-init="options.draw()"></div>
                </div>
            </div>
        </section>

        <!-- Modal -->
        <div id="modal" class="fixed top-0 left-0 z-10 invisible hidden w-screen h-screen bg-neutral-500/50"
            :class="{ 
                'hidden invisible': !modal.isOpen 
            }"
            :aria-hidden="modal.isOpen ? false : true"
            x-init="
            
                // Force focus on focus trap
                $watch('modal.isOpen', isModalOpen => { 
                    if (isModalOpen) {
                        $el.setAttribute('tabindex', 1);
                        $el.focus();
                        setTimeout(() => {
                            $el.removeAttribute('tabindex');
                        }, 100);
                    } else {
                        modal.text = '';
                        modal.title = '';
                        modal.showCreateElement = false;
                        modal.trigger = () => { 
                            return; 
                        };     
                        modal.triggerCreateContainer = () => { 
                            return; 
                        };   
                        modal.triggerCreateSkeleton = () => { 
                            return; 
                        };     
                    }
                })
            "
            @keydown.tab.window="
            
                // Handle focus trap
                (event) => {
                    if (modal.isOpen) {
                        const focusableElements = Array.from($el.querySelectorAll(`a, button, input, textarea, select, details, [tabindex], [contenteditable='true']`)).filter(element => {
                            return !element.closest(`[tabindex='-1'], .hidden, .invisible`) || null;
                        });
                        const firstElement = focusableElements[0];
                        const lastElement = focusableElements[focusableElements.length - 1];
            
                        if (event.shiftKey && (document.activeElement === firstElement || document.activeElement === document.body)) {
                            event.preventDefault();
                            lastElement.focus();
                        } else if (!event.shiftKey && document.activeElement === lastElement) {
                            event.preventDefault();
                            firstElement.focus();
                        }
                    }
                }
            "
        >
            <div class="fixed p-8 transform -translate-x-1/2 -translate-y-1/2 bg-white border rounded-md shadow left-1/2 top-1/2 border-neutral-300 dark:border-neutral-700 dark:bg-neutral-800 w-80 sm:w-96" aria-labelledby="modal"
                x-show="modal.isOpen"
                @click.outside="modal.isOpen = false"
            >
                <button type="button" class="absolute right-4 top-4 group" aria-controls="modal" aria-label="Close modal"
                    :aria-expanded="modal.isOpen ? true : false"
                    @click="modal.isOpen = false"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-neutral-500 dark:stroke-neutral-400 group-hover:stroke-black dark:group-hover:stroke-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                    </svg>
                </button>
                <div class="space-y-2 text-center">
                    <p class="text-lg font-bold text-black sm:text-xl lg:text-2xl dark:text-white" x-text="modal.title"></p>
                    <p class="text-base text-neutral-700 dark:text-neutral-300" x-text="modal.text"></p>
                </div>
                <template x-if="!modal.showCreateElement">
                    <div class="flex flex-wrap justify-center gap-2 mt-8">
                        <button type="button" class="px-4 py-2 text-base font-semibold text-white bg-black border border-black rounded-md hover:border-neutral-700 hover:bg-neutral-700 dark:bg-neutral-600 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none"
                            @click="modal.trigger"
                        >Yes</button>
                        <button type="button" class="px-4 py-2 text-base font-semibold text-black bg-transparent border border-black rounded-md dark:text-white hover:border-neutral-700 hover:text-white hover:bg-neutral-700 dark:bg-transparent dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none" aria-controls="modal" aria-label="Close modal"
                            :aria-expanded="modal.isOpen ? true : false"
                            @click="modal.isOpen = false"
                        >No</button>
                    </div>
                </template>
                <template x-if="modal.showCreateElement">
                    <div class="flex flex-wrap justify-center gap-2 mt-8">
                        <button type="button" class="px-4 py-2 text-base font-semibold text-white bg-black border border-black rounded-md hover:border-neutral-700 hover:bg-neutral-700 dark:bg-neutral-600 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none"
                            @click="modal.triggerCreateContainer"
                        >Container</button>
                        <button type="button" class="px-4 py-2 text-base font-semibold text-white bg-black border border-black rounded-md hover:border-neutral-700 hover:bg-neutral-700 dark:bg-neutral-600 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-500 disabled:opacity-50 disabled:pointer-events-none"
                            @click="modal.triggerCreateSkeleton"
                        >Skeleton</button>
                    </div>
                </template>
            </div>
        </div>
        
    </main>
    
    <!-- Footer -->
    <footer class="absolute bottom-0 w-full max-w-screen-xl px-4 pb-px text-center transform -translate-x-1/2 left-1/2 sm:px-8">
        <p class="text-sm text-neutral-700 dark:text-neutral-300"><span id="footer-app-name"></span> v<span x-text="version"></span></p>
        <span class="text-sm text-neutral-700 dark:text-neutral-300"><span id="footer-year"></span> © Developed by <a href="https://mkfizi.dev" target="_blank" class="inline-block font-semibold text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white">mkfizi</a></span>
    </footer>
</body>
</html>